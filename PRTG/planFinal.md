# üöÄ Plan Final - Dashboard PRTG con Vercel (100% GRATIS)

**Fecha:** 22/10/2025  
**Proyecto:** Sistema de Monitoreo USITTEL - Tandil  
**Arquitectura:** Next.js en Vercel (Serverless)  
**Costo:** $0/mes  

---

## üéØ ARQUITECTURA FINAL SELECCIONADA

### Stack Tecnol√≥gico: Next.js 14+ en Vercel (Todo en Uno)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   VERCEL (100% GRATIS)                  ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ         FRONTEND (Next.js Pages)               ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - Dashboard principal                         ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - Gr√°ficos interactivos (Recharts)            ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - Componentes React                           ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  - Tailwind CSS (estilos)                      ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                    ‚îÇ                                     ‚îÇ
‚îÇ                    ‚ñº                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ    BACKEND (Next.js API Routes - Serverless)   ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ                                                 ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  /api/sensors.js      ‚Üí Lista sensores         ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  /api/sensor/[id].js  ‚Üí Datos de un sensor     ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  /api/historical.js   ‚Üí Datos hist√≥ricos       ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  /api/status.js       ‚Üí Estado en tiempo real  ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                    ‚îÇ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îÇ
                     ‚îÇ HTTP GET Requests
                     ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ      PRTG API (Tu Servidor)     ‚îÇ
        ‚îÇ  http://38.253.65.250:8080      ‚îÇ
        ‚îÇ                                 ‚îÇ
        ‚îÇ  Sensores:                      ‚îÇ
        ‚îÇ  - CABASE (id=3)                ‚îÇ
        ‚îÇ  - ARSAT (id=4)                 ‚îÇ
        ‚îÇ  - TECO (id=6)                  ‚îÇ
        ‚îÇ  - IPLAN (id=65)                ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üì¶ ESTRUCTURA DEL PROYECTO NEXT.JS

```
monitoreo-usittel/
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ index.js                    # üè† Dashboard principal
‚îÇ   ‚îú‚îÄ‚îÄ sensors/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id].js                 # üìä Detalle de sensor individual
‚îÇ   ‚îú‚îÄ‚îÄ history.js                  # üìà Vista de hist√≥ricos
‚îÇ   ‚îî‚îÄ‚îÄ api/                        # üîå BACKEND (API Routes)
‚îÇ       ‚îú‚îÄ‚îÄ sensors.js              # GET todos los sensores
‚îÇ       ‚îú‚îÄ‚îÄ sensor/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ [id].js             # GET sensor espec√≠fico
‚îÇ       ‚îú‚îÄ‚îÄ historical.js           # GET datos hist√≥ricos
‚îÇ       ‚îî‚îÄ‚îÄ status.js               # GET estado general
‚îÇ
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ SensorCard.js               # Tarjeta de sensor
‚îÇ   ‚îú‚îÄ‚îÄ LiveGraph.js                # Gr√°fico en tiempo real
‚îÇ   ‚îú‚îÄ‚îÄ HistoricalChart.js          # Gr√°fico hist√≥rico
‚îÇ   ‚îú‚îÄ‚îÄ StatusIndicator.js          # Indicador de estado (üü¢üü°üî¥)
‚îÇ   ‚îú‚îÄ‚îÄ NetworkTopology.js          # Diagrama de red
‚îÇ   ‚îî‚îÄ‚îÄ Layout.js                   # Layout general
‚îÇ
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ prtgClient.js               # Cliente para PRTG API
‚îÇ   ‚îî‚îÄ‚îÄ utils.js                    # Funciones auxiliares
‚îÇ
‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îî‚îÄ‚îÄ globals.css                 # Estilos globales (Tailwind)
‚îÇ
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ images/                     # Logos, iconos
‚îÇ
‚îú‚îÄ‚îÄ .env.local                      # Variables de entorno
‚îú‚îÄ‚îÄ next.config.js                  # Configuraci√≥n Next.js
‚îú‚îÄ‚îÄ package.json                    # Dependencias
‚îî‚îÄ‚îÄ README.md
```

---

## üîå INTEGRACI√ìN CON PRTG API

### 1. Cliente PRTG (`lib/prtgClient.js`)

```javascript
// lib/prtgClient.js
const PRTG_BASE_URL = process.env.PRTG_BASE_URL; // http://38.253.65.250:8080
const PRTG_USERNAME = process.env.PRTG_USERNAME;
const PRTG_PASSHASH = process.env.PRTG_PASSHASH;

class PRTGClient {
  constructor() {
    this.baseURL = PRTG_BASE_URL;
    this.username = PRTG_USERNAME;
    this.passhash = PRTG_PASSHASH;
  }

  // Construye URL con autenticaci√≥n
  buildURL(endpoint, params = {}) {
    const url = new URL(`${this.baseURL}${endpoint}`);
    url.searchParams.append('username', this.username);
    url.searchParams.append('passhash', this.passhash);
    
    Object.keys(params).forEach(key => {
      url.searchParams.append(key, params[key]);
    });
    
    return url.toString();
  }

  // Obtener todos los sensores
  async getSensors() {
    const url = this.buildURL('/api/table.json', {
      content: 'sensors',
      columns: 'objid,sensor,device,status,lastvalue,message,priority'
    });
    
    const response = await fetch(url);
    if (!response.ok) throw new Error('Error al obtener sensores');
    return await response.json();
  }

  // Obtener sensor espec√≠fico
  async getSensor(sensorId) {
    const url = this.buildURL('/api/getsensordetails.json', {
      id: sensorId
    });
    
    const response = await fetch(url);
    if (!response.ok) throw new Error(`Error al obtener sensor ${sensorId}`);
    return await response.json();
  }

  // Obtener datos hist√≥ricos
  async getHistoricalData(sensorId, startDate, endDate, avgInterval = 0) {
    const url = this.buildURL('/api/historicdata.json', {
      id: sensorId,
      avg: avgInterval,  // 0 = raw data, 300 = 5min avg, 3600 = 1h avg
      sdate: startDate,  // Formato: 2025-10-20-00-00-00
      edate: endDate
    });
    
    const response = await fetch(url);
    if (!response.ok) throw new Error('Error al obtener hist√≥ricos');
    return await response.json();
  }

  // Obtener estado de sensores espec√≠ficos (IPLAN, ARSAT, etc)
  async getCriticalSensors() {
    const sensorIds = [3, 4, 6, 65]; // CABASE, ARSAT, TECO, IPLAN
    
    const promises = sensorIds.map(id => this.getSensor(id));
    const results = await Promise.all(promises);
    
    return results;
  }

  // Obtener valores actuales de canales de un sensor
  async getSensorChannels(sensorId) {
    const url = this.buildURL('/api/table.json', {
      content: 'channels',
      id: sensorId,
      columns: 'name,lastvalue,lastvalue_raw'
    });
    
    const response = await fetch(url);
    if (!response.ok) throw new Error('Error al obtener canales');
    return await response.json();
  }
}

export default new PRTGClient();
```

---

### 2. API Routes (Backend Serverless)

#### `/pages/api/sensors.js` - Obtener todos los sensores

```javascript
// pages/api/sensors.js
import prtgClient from '@/lib/prtgClient';

export default async function handler(req, res) {
  if (req.method !== 'GET') {
    return res.status(405).json({ error: 'M√©todo no permitido' });
  }

  try {
    const sensors = await prtgClient.getSensors();
    
    res.status(200).json({
      success: true,
      data: sensors,
      timestamp: new Date().toISOString()
    });
  } catch (error) {
    console.error('Error en /api/sensors:', error);
    res.status(500).json({ 
      success: false,
      error: 'Error al obtener sensores de PRTG',
      message: error.message
    });
  }
}
```

#### `/pages/api/sensor/[id].js` - Obtener sensor espec√≠fico

```javascript
// pages/api/sensor/[id].js
import prtgClient from '@/lib/prtgClient';

export default async function handler(req, res) {
  const { id } = req.query;

  if (req.method !== 'GET') {
    return res.status(405).json({ error: 'M√©todo no permitido' });
  }

  try {
    const sensor = await prtgClient.getSensor(id);
    const channels = await prtgClient.getSensorChannels(id);
    
    res.status(200).json({
      success: true,
      data: {
        sensor,
        channels
      },
      timestamp: new Date().toISOString()
    });
  } catch (error) {
    console.error(`Error en /api/sensor/${id}:`, error);
    res.status(500).json({ 
      success: false,
      error: `Error al obtener sensor ${id}`,
      message: error.message
    });
  }
}
```

#### `/pages/api/historical.js` - Datos hist√≥ricos

```javascript
// pages/api/historical.js
import prtgClient from '@/lib/prtgClient';

export default async function handler(req, res) {
  const { sensorId, days = 1 } = req.query;

  if (req.method !== 'GET') {
    return res.status(405).json({ error: 'M√©todo no permitido' });
  }

  if (!sensorId) {
    return res.status(400).json({ error: 'Se requiere sensorId' });
  }

  try {
    // Calcular fechas
    const endDate = new Date();
    const startDate = new Date();
    startDate.setDate(startDate.getDate() - parseInt(days));

    const formatDate = (date) => {
      const year = date.getFullYear();
      const month = String(date.getMonth() + 1).padStart(2, '0');
      const day = String(date.getDate()).padStart(2, '0');
      const hour = String(date.getHours()).padStart(2, '0');
      const min = String(date.getMinutes()).padStart(2, '0');
      const sec = String(date.getSeconds()).padStart(2, '0');
      return `${year}-${month}-${day}-${hour}-${min}-${sec}`;
    };

    const data = await prtgClient.getHistoricalData(
      sensorId,
      formatDate(startDate),
      formatDate(endDate),
      300 // 5 minutos de promedio
    );
    
    res.status(200).json({
      success: true,
      data,
      period: {
        start: startDate.toISOString(),
        end: endDate.toISOString(),
        days: parseInt(days)
      },
      timestamp: new Date().toISOString()
    });
  } catch (error) {
    console.error('Error en /api/historical:', error);
    res.status(500).json({ 
      success: false,
      error: 'Error al obtener datos hist√≥ricos',
      message: error.message
    });
  }
}
```

#### `/pages/api/status.js` - Estado general de sensores cr√≠ticos

```javascript
// pages/api/status.js
import prtgClient from '@/lib/prtgClient';

export default async function handler(req, res) {
  if (req.method !== 'GET') {
    return res.status(405).json({ error: 'M√©todo no permitido' });
  }

  try {
    const criticalSensors = await prtgClient.getCriticalSensors();
    
    // Mapear a formato m√°s amigable
    const status = criticalSensors.map(sensor => ({
      id: sensor.sensorid || sensor.objid,
      name: sensor.name,
      status: sensor.statustext || sensor.status,
      lastValue: sensor.lastvalue,
      lastCheck: sensor.lastcheck,
      message: sensor.lastmessage || sensor.message
    }));
    
    res.status(200).json({
      success: true,
      data: status,
      timestamp: new Date().toISOString()
    });
  } catch (error) {
    console.error('Error en /api/status:', error);
    res.status(500).json({ 
      success: false,
      error: 'Error al obtener estado de sensores cr√≠ticos',
      message: error.message
    });
  }
}
```

---

### 3. Variables de Entorno (`.env.local`)

```bash
# .env.local
PRTG_BASE_URL=http://38.253.65.250:8080
PRTG_USERNAME=tu_usuario
PRTG_PASSHASH=tu_passhash

# Opcional: Para desarrollo local
NEXT_PUBLIC_APP_NAME=Monitoreo USITTEL
```

**‚ö†Ô∏è IMPORTANTE:** 
- Este archivo NO se sube a GitHub (est√° en `.gitignore`)
- En Vercel, las variables se configuran en el dashboard

---

## üé® COMPONENTES FRONTEND

### Dashboard Principal (`pages/index.js`)

```javascript
// pages/index.js
import { useState, useEffect } from 'react';
import Layout from '@/components/Layout';
import SensorCard from '@/components/SensorCard';
import LiveGraph from '@/components/LiveGraph';

export default function Dashboard() {
  const [sensors, setSensors] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchSensors();
    // Actualizar cada 30 segundos
    const interval = setInterval(fetchSensors, 30000);
    return () => clearInterval(interval);
  }, []);

  const fetchSensors = async () => {
    try {
      const response = await fetch('/api/status');
      const data = await response.json();
      if (data.success) {
        setSensors(data.data);
      }
    } catch (error) {
      console.error('Error al obtener sensores:', error);
    } finally {
      setLoading(false);
    }
  };

  return (
    <Layout>
      <div className="container mx-auto px-4 py-8">
        <h1 className="text-3xl font-bold mb-8">
          Dashboard - Monitoreo USITTEL Tandil
        </h1>

        {loading ? (
          <p>Cargando...</p>
        ) : (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            {sensors.map(sensor => (
              <SensorCard key={sensor.id} sensor={sensor} />
            ))}
          </div>
        )}

        <div className="mt-8">
          <h2 className="text-2xl font-bold mb-4">Tr√°fico en Tiempo Real</h2>
          <LiveGraph sensorId={65} /> {/* IPLAN */}
        </div>
      </div>
    </Layout>
  );
}
```

### Componente de Tarjeta de Sensor

```javascript
// components/SensorCard.js
import Link from 'next/link';

export default function SensorCard({ sensor }) {
  const getStatusColor = (status) => {
    if (status.includes('Up')) return 'bg-green-500';
    if (status.includes('Warning')) return 'bg-yellow-500';
    if (status.includes('Down')) return 'bg-red-500';
    return 'bg-gray-500';
  };

  return (
    <Link href={`/sensors/${sensor.id}`}>
      <div className="bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition cursor-pointer">
        <div className="flex items-center justify-between mb-4">
          <h3 className="text-lg font-semibold">{sensor.name}</h3>
          <div className={`w-3 h-3 rounded-full ${getStatusColor(sensor.status)}`} />
        </div>
        
        <p className="text-2xl font-bold text-gray-800 mb-2">
          {sensor.lastValue}
        </p>
        
        <p className="text-sm text-gray-600">
          {sensor.message}
        </p>
        
        <p className="text-xs text-gray-400 mt-2">
          {new Date(sensor.lastCheck).toLocaleString()}
        </p>
      </div>
    </Link>
  );
}
```

### Componente de Gr√°fico

```javascript
// components/LiveGraph.js
import { useState, useEffect } from 'react';
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';

export default function LiveGraph({ sensorId }) {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchHistoricalData();
    const interval = setInterval(fetchHistoricalData, 60000); // Actualizar cada minuto
    return () => clearInterval(interval);
  }, [sensorId]);

  const fetchHistoricalData = async () => {
    try {
      const response = await fetch(`/api/historical?sensorId=${sensorId}&days=1`);
      const result = await response.json();
      
      if (result.success) {
        // Procesar datos para Recharts
        const chartData = result.data.histdata?.map(item => ({
          time: new Date(item.datetime).toLocaleTimeString(),
          value: parseFloat(item.value_raw || item.value)
        })) || [];
        
        setData(chartData);
      }
    } catch (error) {
      console.error('Error al obtener datos hist√≥ricos:', error);
    } finally {
      setLoading(false);
    }
  };

  if (loading) return <p>Cargando gr√°fico...</p>;

  return (
    <ResponsiveContainer width="100%" height={400}>
      <LineChart data={data}>
        <CartesianGrid strokeDasharray="3 3" />
        <XAxis dataKey="time" />
        <YAxis />
        <Tooltip />
        <Legend />
        <Line 
          type="monotone" 
          dataKey="value" 
          stroke="#8884d8" 
          strokeWidth={2}
          dot={false}
        />
      </LineChart>
    </ResponsiveContainer>
  );
}
```

---

## üì¶ DEPENDENCIAS (`package.json`)

```json
{
  "name": "monitoreo-usittel",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "next": "^14.0.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "recharts": "^2.10.0"
  },
  "devDependencies": {
    "autoprefixer": "^10.4.16",
    "postcss": "^8.4.31",
    "tailwindcss": "^3.3.5"
  }
}
```

---

## üöÄ DEPLOY EN VERCEL

### Paso 1: Preparar el Proyecto

```bash
# Crear proyecto Next.js
npx create-next-app@latest monitoreo-usittel

# Instalar dependencias
cd monitoreo-usittel
npm install recharts
```

### Paso 2: Configurar Variables de Entorno en Vercel

1. Ve a tu dashboard de Vercel
2. Selecciona tu proyecto
3. Ve a **Settings** ‚Üí **Environment Variables**
4. Agrega:
   - `PRTG_BASE_URL` = `http://38.253.65.250:8080`
   - `PRTG_USERNAME` = (tu usuario)
   - `PRTG_PASSHASH` = (tu passhash)

### Paso 3: Deploy

```bash
# Opci√≥n A: Desde GitHub (Recomendado)
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/tu-usuario/monitoreo-usittel.git
git push -u origin main

# Luego en Vercel:
# 1. New Project
# 2. Import from GitHub
# 3. Select repository
# 4. Deploy (autom√°tico)

# Opci√≥n B: Deploy directo con Vercel CLI
npm install -g vercel
vercel login
vercel
```

### Paso 4: Configurar Dominio (Opcional)

En Vercel Dashboard:
1. **Domains** ‚Üí Add Domain
2. Agregar `dashboard.usittel.com.ar`
3. Configurar DNS seg√∫n instrucciones de Vercel

---

## ‚ö° VENTAJAS DE ESTA ARQUITECTURA

### ‚úÖ 100% Gratis
- Vercel free tier: 100GB bandwidth/mes
- Next.js API Routes: serverless (sin cargo)
- Deploy ilimitados

### ‚úÖ Sin Configuraci√≥n de Servidor
- No necesit√°s Docker
- No necesit√°s VPS
- No necesit√°s configurar Nginx/SSL

### ‚úÖ Deploy Autom√°tico
- Push a GitHub ‚Üí Deploy autom√°tico
- Preview deployments en cada PR
- Rollback con un click

### ‚úÖ Performance
- CDN global (Edge Network)
- SSR (Server-Side Rendering) opcional
- Cach√© autom√°tico

### ‚úÖ Escalabilidad
- Serverless functions escalan autom√°ticamente
- Sin preocupaci√≥n por tr√°fico

### ‚úÖ Desarrollo R√°pido
- Hot reload en desarrollo
- Fast Refresh
- Zero config

---

## üîí SEGURIDAD

### Variables de Entorno
```javascript
// ‚úÖ CORRECTO: Variables en servidor (API Routes)
// pages/api/sensors.js
const PRTG_USERNAME = process.env.PRTG_USERNAME; // Solo servidor

// ‚ùå INCORRECTO: No exponer credenciales en frontend
// const PRTG_USERNAME = process.env.NEXT_PUBLIC_PRTG_USERNAME;
```

### CORS
- No hay problemas de CORS porque las llamadas a PRTG se hacen desde el servidor (API Routes)
- El navegador nunca llama directamente a PRTG

---

## üìä L√çMITES DEL FREE TIER DE VERCEL

```
‚úÖ Bandwidth: 100 GB/mes (suficiente para ~10,000 visitas/mes)
‚úÖ Serverless Function Execution: 100 GB-Hrs/mes
‚úÖ Deployments: Ilimitados
‚úÖ Dominios custom: Incluidos
‚úÖ SSL: Autom√°tico (Let's Encrypt)
‚úÖ Colaboradores: Ilimitados

‚ö†Ô∏è Si super√°s los l√≠mites:
   - Hobby plan: $20/mes (1TB bandwidth)
```

---

## üìà PR√ìXIMOS PASOS

### Fase 1: MVP (Semana 1)
- [x] Arquitectura definida
- [ ] Crear proyecto Next.js
- [ ] Implementar cliente PRTG
- [ ] Crear API Routes b√°sicas
- [ ] Dashboard con sensores cr√≠ticos
- [ ] Deploy en Vercel

### Fase 2: Gr√°ficos (Semana 2)
- [ ] Implementar gr√°ficos hist√≥ricos
- [ ] Gr√°ficos en tiempo real
- [ ] Comparativas entre enlaces
- [ ] Responsive design

### Fase 3: Alertas (Semana 3-4)
- [ ] Sistema de detecci√≥n de anomal√≠as
- [ ] Notificaciones por email
- [ ] Panel de alertas
- [ ] Configuraci√≥n de umbrales

---

## üéØ COMANDOS R√ÅPIDOS

```bash
# Desarrollo local
npm run dev
# http://localhost:3000

# Build de producci√≥n
npm run build

# Deploy a Vercel
vercel

# Ver logs en tiempo real
vercel logs
```

---

**Documento creado:** 22/10/2025  
**Stack:** Next.js 14 + Vercel Serverless  
**Costo:** $0/mes  
**Estado:** ‚úÖ Listo para implementar  
